"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var VideoPlayerHelper=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"formatIsAllowed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return fileName?this.ALLOWED_FORMATS.includes(e):this.ALLOWED_FORMATS}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}VideoPlayerHelper.VIDEO_TAG="video",VideoPlayerHelper.VIDEO_PLAYER_TYPE="object",VideoPlayerHelper.ATTRIBUTE_CONTROLS="controls",VideoPlayerHelper.ATTRIBUTE_MUTE="mute",VideoPlayerHelper.ATTRIBUTE_AUTOPLAY="autoplay",VideoPlayerHelper.ATTRIBUTE_LOOP="loop",VideoPlayerHelper.ATTRIBUTE_PRELOAD="preload",VideoPlayerHelper.ATTRIBUTE_WIDTH="width",VideoPlayerHelper.ATTRIBUTE_HEIGHT="height",VideoPlayerHelper.ALLOWED_FORMATS=["ogg","theora","mp4","webm"];var VideoPlayerHTMLHelper=function e(){_classCallCheck(this,e)};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}VideoPlayerHTMLHelper.MAIN_CONTAINER_CLASS="vp",VideoPlayerHTMLHelper.WRAPPER_CONTAINER_CLASS="vp__wrapper",VideoPlayerHTMLHelper.VIDEO_CONTAINER_CLASS="vp__video-container",VideoPlayerHTMLHelper.CONTROLS_CONTAINER_CLASS="vp__controls-container",VideoPlayerHTMLHelper.PROGRESS_BAR_CONTAINER_CLASS="controls-container__progress-bar-container",VideoPlayerHTMLHelper.PREGRESS_BAR_CLASS="controls-container__progress-bar",VideoPlayerHTMLHelper.CONTROLS_CLASS="controls-container__controls";var ComponentsHelper=function e(){_classCallCheck(this,e)};ComponentsHelper.COMPONENTS_NAMES={PlayButton:"play-button",PauseButton:"pause-button"};var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var VideoPlayer=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,e),this.ALLOWED_ATTRIBUTES=["autoplay","preload","width","height","loop"],this.DEFAULT_COMPONENTS=["PlayButton","PauseButton","MuteButton","FullscreenButton","VolumeButton","TimelineProgressbar"],this._maxIdLength=999999,this._minIdLength=111111,this._playerPrefix="vp-",this._playerId=this.generatePlayerId(),this.containerObject=t,this.options=n,this.initializePlayer(t),this}return _createClass(e,[{key:"containerObject",get:function(){return this._containerObject},set:function(e){this._containerObject=e}},{key:"videoPlayer",get:function(){return this._videoPlayer},set:function(e){this._videoPlayer=e}},{key:"playerId",get:function(){return this._playerId}},{key:"options",get:function(){return this._options},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=e}},{key:"components",get:function(){return this._components},set:function(e){this._components=e}}]),_createClass(e,[{key:"generatePlayerId",value:function(){return this._playerPrefix+Math.floor(this._minIdLength+Math.random()*(this._maxIdLength-this._minIdLength))}},{key:"initializePlayer",value:function(e){this.initializeContainerObject(e),this.initializeComponents(this.DEFAULT_COMPONENTS,this.playerId),this.initializePlayerOptions(this.options),this.initializeComponentsEvents()}},{key:"initializeContainerObject",value:function(e){var t=e.querySelector("video");try{if("object"!=(void 0===t?"undefined":_typeof(t))||!t)throw new InvalidTypeException("Invalid type of video player object.");this.videoPlayer=t}catch(e){console.error(e.message)}}},{key:"initializeComponents",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],o={},r=new ComponentsFabric;t.forEach((function(t){o[t.toLowerCase()]=r.makeOne(t,e.videoPlayer),o[t.toLowerCase()].id=n+"-"+ComponentsHelper.COMPONENTS_NAMES[t],o[t.toLowerCase()].videoPlayer=e.videoPlayer})),this.components=o}},{key:"initializePlayerOptions",value:function(e){var t=this;if(e.videoplayer){var n=(new VideoPlayerModel).fromObject(e.videoplayer),o=!0,r=!1,i=void 0;try{for(var a,s=Object.entries(n)[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=_slicedToArray(a.value,2),l=c[0],u=c[1];this.videoPlayer.setAttribute(l,u)}}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}}Object.keys(e.components).forEach((function(n){var o=(new ModelsFabric).makeOne(n).fromObject(e.components[n]),r=!0,i=!1,a=void 0;try{for(var s,c=Object.entries(o)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=_slicedToArray(s.value,2),u=l[0],f=l[1];t.components[n][u]=f}}catch(e){i=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw a}}}))}},{key:"initializeComponentsEvents",value:function(){var e=this,t=!0,n=!1,o=void 0;try{for(var r,i=function(){var t=r.value;e.components[t].events.forEach((function(n){e.components[t].setEvent(n.eventTarget,n.eventName,n.eventCallback)}))},a=Object.keys(this.components)[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)i()}catch(e){n=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw o}}}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Component=function(){function e(t,n){_classCallCheck(this,e),this.videoPlayer=t,this.id=n}return _createClass(e,[{key:"videoPlayer",get:function(){return this._videoPlayer},set:function(e){this._videoPlayer=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"event",get:function(){return this._event},set:function(e){this._event=e}}]),_createClass(e,[{key:"setEvent",value:function(e,t,n){if("function"!=typeof n)throw new InvalidTypeException('Invalid type of component event, expected "function" type.');e&&e.addEventListener(t,n),document.getElementById(this.id)&&document.getElementById(this.id).addEventListener(t,n)}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PlayButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.events=[(new EventModel).fromObject({eventName:"click",eventCallback:function(){e.play()}})],n}return _inherits(t,Component),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PauseButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.events=[(new EventModel).fromObject({eventName:"click",eventCallback:function(){e.pause()}})],n}return _inherits(t,Component),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MuteButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.events=[(new EventModel).fromObject({eventName:"click",eventCallback:function(){e.muted=!Boolean(e.muted)}})],n}return _inherits(t,Component),_createClass(t,[{key:"muted",get:function(){return this._muted},set:function(e){this._muted=e}}]),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FullscreenButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=n;return n.events=[(new EventModel).fromObject({eventName:"click",eventCallback:function(){var e=document.querySelector("."+VideoPlayerHTMLHelper.MAIN_CONTAINER_CLASS);"true"==this.getAttribute("data-fullscreen")?o.closeFullscreen(this,e):o.openFullscreen(this,e),this.setAttribute("data-fullscreen",o.fullscreen)}})],n}return _inherits(t,Component),_createClass(t,[{key:"fullscreen",get:function(){return this._fullscreen},set:function(e){this._fullscreen=Boolean(e)}}]),_createClass(t,[{key:"openFullscreen",value:function(e,t){var n=!1;t.requestFullscreen&&(t.requestFullscreen(),n=!0),t.mozRequestFullScreen&&(t.mozRequestFullScreen(),n=!0),t.webkitRequestFullscreen&&(t.webkitRequestFullscreen(),n=!0),videoPlayer.msRequestFullscreen&&(t.msRequestFullscreen(),n=!0),this.fullscreen=n}},{key:"closeFullscreen",value:function(e,t){var n=!0;document.exitFullscreen&&(document.exitFullscreen(),n=!1),document.mozCancelFullScreen&&(document.mozCancelFullScreen(),n=!1),document.webkitExitFullscreen&&(document.webkitExitFullscreen(),n=!1),document.msExitFullscreen&&(document.msExitFullscreen(),n=!1),this.fullscreen=n}}]),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VolumeButton=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.MAX=1,n.MIN=0,n._step=.1,n._volume=1;var o=n;return n.events=[(new EventModel).fromObject({eventName:"input",eventCallback:function(e){e.target.setAttribute("value",o.volume),o.volume=e.target.value}}),(new EventModel).fromObject({eventTarget:window,eventName:"DOMContentLoaded",eventCallback:function(e){var t=document.getElementById(o.id);t.setAttribute("max",o.MAX),t.setAttribute("min",o.MIN),t.setAttribute("step",o.step),t.setAttribute("value",o.volume)}})],n}return _inherits(t,Component),_createClass(t,[{key:"step",get:function(){return this._step},set:function(e){this._step=e}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.videoPlayer.volume=e}}]),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var TimelineProgressbar=function(e){function t(e){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.MAX=100,n.MIN=0,n._currentTime=0,n._step=.5;var o=n;return n.duration=e.duration,n.events=[(new EventModel).fromObject({eventName:"input",eventCallback:function(e){e.target.setAttribute("value",o.currentTime),o.currentTime=e.target.value}}),(new EventModel).fromObject({eventTarget:e,eventName:"timeupdate",eventCallback:function(e){document.getElementById(o.id).value=e.target.currentTime}}),(new EventModel).fromObject({eventTarget:e,eventName:"loadedmetadata",eventCallback:function(e){var t=document.getElementById(o.id);o.duration=this.duration,t.setAttribute("max",o.duration.toFixed(0)),t.setAttribute("min",o.MIN),t.setAttribute("step",o.step),t.setAttribute("value",o.currentTime)}})],n}return _inherits(t,Component),_createClass(t,[{key:"currentTime",get:function(){return this._currentTime},set:function(e){this._currentTime=e,this.videoPlayer.currentTime=e}},{key:"step",get:function(){return this._step},set:function(e){this._step=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"ended",get:function(){return this.videoPlayer.ended}}]),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ComponentsFabric=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"makeOne",value:function(e,t){var n;switch(e){case"PlayButton":n=new PlayButton(t);break;case"PauseButton":n=new PauseButton(t);break;case"MuteButton":n=new MuteButton(t);break;case"FullscreenButton":n=new FullscreenButton(t);break;case"VolumeButton":n=new VolumeButton(t);break;case"TimelineProgressbar":n=new TimelineProgressbar(t);break;default:throw new UndefinedComponentException(e+" is not found.")}return n}},{key:"make",value:function(e,t){var n=this,o=[];return e.forEach((function(e){o.push(n.makeOne(e,t))})),o}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Decorator=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"fromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.className&&(this.className=e.className),this}},{key:"className",get:function(){return this._className},set:function(e){this._className=e}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ButtonDecorator=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,Decorator),_createClass(t,[{key:"fromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.borderType&&(this._borderType=e.borderType),e.borderColor&&(this._borderColor=e.borderColor),e.borderWidth&&(this._borderWidth=e.borderWidth),e.borderRadius&&(this._borderRadius=e.borderRadius),e.width&&(this._width=e.width),e.height&&(this._height=e.height),e.backgroundColor&&(this._backgroundColor=e.backgroundColor),e.color&&(this._color=e.color),e.fontSize&&(this._fontSize=e.fontSize),e.fontWeight&&(this._fontWeight=e.fontWeight),this}},{key:"borderType",get:function(){return this._borderType},set:function(e){this._borderType=e}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(e){this._borderRadius=e}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e}},{key:"color",get:function(){return this.color},set:function(e){this._color=e}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e}}]),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ProgressbarDecorator=function e(){_classCallCheck(this,e)};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PlayButtonDecorator=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,ButtonDecorator),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PauseButtonDecorator=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,ButtonDecorator),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MuteButtonDecorator=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,ButtonDecorator),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FullscreenButtonDecorator=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,ButtonDecorator),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var BaseModel=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"fromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.id&&(this.id=String(e.id)),this}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VideoPlayerModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),_createClass(t,[{key:"fromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.autoplay&&(t.autoplay=Boolean(e.autoplay)),t.muted=Boolean(e.autoplay),e.preload&&(t.preload=Boolean(e.preload)),e.width&&(t.width=String(e.width)),e.height&&(t.width=String(e.height)),e.loop&&(t.loop=Boolean(e.loop)),t}},{key:"autoplay",get:function(){return this._autoplay},set:function(e){this._autoplay=e}},{key:"preload",get:function(){return this._preload},set:function(e){this._preload=e}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"loop",get:function(){return this._loop},set:function(e){this._loop=e}}]),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PlayButtonModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PauseButtonModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MuteButtonModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FullscreenButtonModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VolumeButtonModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var TimelineProgressbarModel=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,BaseModel),t}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var EventModel=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"fromObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.eventName&&(this.eventName=e.eventName),e.eventTarget&&(this.eventTarget=e.eventTarget),e.eventCallback&&(this.eventCallback=e.eventCallback),this}},{key:"eventName",get:function(){return this._eventName},set:function(e){this._eventName=e}},{key:"eventTarget",get:function(){return this._eventTarget},set:function(e){this._eventTarget=e}},{key:"eventCallback",get:function(){return this._eventCallback},set:function(e){this._eventCallback=e}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ModelsFabric=function(){function e(){_classCallCheck(this,e),this.NAMES_ASSOCIATIONS={VideoPlayer:"VideoPlayerModel",PlayButton:"PlayButtonModel",PauseButton:"PauseButtonModel",MuteButton:"MuteButtonModel",FullscreenButton:"FullscreenButtonModel",VolumeButton:"VolumeButtonModel",TimelineProgressbar:"TimelineProgressbarModel"}}return _createClass(e,[{key:"makeOne",value:function(e){var t=void 0;switch(this.findModelName(e).modelName){case"VideoPlayerModel":t=new VideoPlayerModel;break;case"PlayButtonModel":t=new PlayButtonModel;break;case"PauseButtonModel":t=new PauseButtonModel;break;case"MuteButtonModel":t=new MuteButtonModel;break;case"FullscreenButtonModel":t=new FullscreenButtonModel;break;case"VolumeButtonModel":t=new VolumeButtonModel;break;case"TimelineProgressbarModel":t=new TimelineProgressbarModel;break;default:throw new UndefinedComponentException(e+" is not found.")}return t}},{key:"make",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.makeOne(e))})),n}},{key:"findModelName",value:function(e){return this.isModelName(e)?this.getModelInfoByModelName(e):this.getModelInfoByComponentName(e)}},{key:"isModelName",value:function(e){return/(model)/.test(e.toLowerCase())}},{key:"getModelInfoByModelName",value:function(e){var t=this,n=!1;return Object.keys(this.NAMES_ASSOCIATIONS).forEach((function(o,r){t.NAMES_ASSOCIATIONS[o].toLowerCase()===e.toLowerCase()&&(n={modelName:t.NAMES_ASSOCIATIONS[o],componentName:o,index:r})})),n}},{key:"getModelInfoByComponentName",value:function(e){var t=this,n=!1;return Object.keys(this.NAMES_ASSOCIATIONS).forEach((function(o,r){o.toLowerCase()===e.toLowerCase()&&(n={modelName:t.NAMES_ASSOCIATIONS[o],componentName:e,index:r})})),n}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var VPException=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,e),this._name="VPException",this.name=n||this.name,this.stack=Error.captureStackTrace(this,this.constructor),this.message="VideoPlayer Exception, "+this.name+": "+t,this}return _createClass(e,[{key:"message",get:function(){return this._message},set:function(e){this._message=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var InvalidTypeException=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,t.name));return n._name="InvalidTypeException",n.message="VideoPlayer Exception, "+n.name+": "+e,_possibleConstructorReturn(n,n)}return _inherits(t,VPException),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var UndefinedComponentException=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,InvalidTypeException.name));return n._name="UndefinedComponentException",n.message="VideoPlayer Exception, "+n.name+": "+e,_possibleConstructorReturn(n,n)}return _inherits(t,VPException),t}();